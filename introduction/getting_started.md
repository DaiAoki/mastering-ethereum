## ビットコインをはじめよう

専用のアプリケーションをダウンロードするかウェブアプリケーションを利用することで、ビットコイン・ネットワークに参加しビットコインが利用可能になります。ビットコイン自体は規格であり、その規格に準拠するクライアントソフトウェアは数多く存在します。その中には、ナカモトサトシのオリジナルの実装から派生しオープンソースプロジェクトとして開発チームが管理している、サトシ・クライアントと呼ばれるリファレンス実装もあります。

ビットコイン・クライアントには主に次の３つのタイプがあります。

######フルクライアント
「フルクライアント」または「フルノード」と呼ばれるタイプのクライアントはビットコインが開始されて以来の全てのユーザーの全ての取引情報の保持します。またユーザーのウォレットの管理も行い、initiate transactions directly on the bitcoin networkします。これは、他のサーバや第三者のサービスに依存することなくEメールの送受信全般を管理することが可能なスタンドアロンのメールサーバに似ているといえるでしょう。

######軽量クライアント
軽量クライアントと呼ばれるクライアントはユーザーのウォレットは保持しますが、ビットコインの取引情報やビットコイン・ネットワークへのアクセスは第三者が管理するサーバを介して行います。フルクライアントのように全トランザクション情報を保持しないため、取引の正当性の認証は第三者サーバを信用したうえでそれらに依存することになります。これは、メールサーバにあるメールボックスを介してEメールを送受信するメールクライアントに似ています。

#####ウェブクライアント
ウェブクライアントと呼ばれるクライアントは、ウェブブラウザから第三者が管理しているサーバ上に保存された自身のウォレットにアクセスする形態のものです。これは全メールのデータを第三者のサーバ内で管理しているウェブメールに似ているといえるでしょう。

****
#### 【コラム】モバイルでのビットコイン
アンドロイド端末のようなスマートフォン上で動作するクライアントあり、やはりフルクライアント、軽量クライアント、ウェブクライアントのどれかの形体をとります。いくつかのクライアントでは、ウェブまたはデスクトップのクライアントと同期し、同じウォレットにある資金を複数のデバイスに跨って使用することが可能になっています。
****

どのタイプのクライアントを選ぶかは、ユーザーが自分の資金の管理やコントロールをどの程度自分で行いたいかによります。フルクライアントを利用することでユーザーは最大限コントロールと独立性を確保できますが。一方でバックアップやセキュリティ確保を自身で行う必要があります。対極にあるのがウェブクライアントです。セットアップも利用も最も簡単ですが、セキュリティやコントロールはサービス提供者の提供するものとなるため相手方リスクが避けられません。これまで幾度となくあったように、万が一ウェブ・ウォレットサービスに不正アクセスが発生した場合には、そのサービスを利用するユーザーは全資金を失う可能性もあります。ただ、逆に言えばフルクライアントを利用しているユーザーも、自分自身で適切な運用が行われていなければ、自身の全資金を失うリスクがあります。

本書の中で、リファレンス実装（サトシ・クライアント）からウェブ・ウォレットまで、幾つかのタイプの実際のクライアントについてその使用例をデモンストレーションしていきます。ビットコインのシステムインターフェースを見ていく中で、リファレンス実装のクライアントが必要になる例も出てきます。これはリファレンス実装が、フルクライアントであることに加え、ウォレットやネットワーク、取引サービスに対してAPIを公開しているからです。

#### クイックスタート

[ビットコインは誰がどのように使うのか](../introduction/bitcoin_uses.md)の節の中で紹介したAliceについて見ていきましょう。彼女は技術者でなく、最近友達からビットコインについて聞きビットコインを知りました。彼女はビットコインの公式サイトである [bitcoin.org](http://www.bitcoin.org) に訪問し、数種類のビットコインのクライアントがあることを知ります。そこで彼女はサイトのアドバイスに従い、軽量クライアントであるMultibitを選びました。

Aliceは bitcoin.orgサイトからリンクをたどりMultibitをダウンロードし彼女のデスクトップPCにインストールします。MultibitはWindows、MAC OS、LinuxのデスクトップPCで利用可能なクライアントです。

[WARNING]
====
((("wallets","security of")))ビットコイン・ウォレットは必ずパスワードまたはパスフレーズで保護されていなければなりません。多数の悪意ある人間が脆弱なパスワードの解読を試みており、簡単には破れないパスワードを利用するべきです。大文字・小文字・数字・記号の組み合わせでパスワードを生成し、誕生日や名前、スポーツチームのようなものは避け、言語に関わらず辞書に載っている一般的な単語は避けてください。可能であれば、完全にランダムなパスワードを生成するパスワードジェネレーターのようなものを利用し、12文字以上のパスワードにするべきです。ビットコインがお金であること、そして世界のどこにでも一瞬のうちに移動させることができること、適切に守られていなければ簡単に盗まれてしまうことを是非とも忘れないでください。
====

AliceがMultibitクライアントをダウンロードしインストールした後、アプリケーションを起動すると<<multibit-welcome>>のようなウェルカム画面が表示されます。

[[multibit-welcome]]
.Multibitクライアントのウェルカム画面
image::images/msbt_0101.png["MultibitWelcome"]

((("addresses, bitcoin","created by Multibit")))Multibitは自動的にアリスのためにビットコイン・アドレスとウォレットを生成し、そのアドレスは<<multibit-request>>図に示されたように「Request」タブに表示されます。
[[multibit-request]]
「Request」タブに表示されたAliceのビットコイン・アドレス
image::images/msbt_0102.png["MultibitReceive"]

この画面で最も重要なのはAliceの _ビットコイン・アドレス_ です。Eメールのアドレスと同様、他者とこのアドレスを共有することで、その人が彼女のウォレットに直接お金を送信することが可能になります。アドレスはスクリーン上に +1Cdid9KFAaatwczBwBttQcwXYCpvK8h7FK+ という数字とアルファベットで構成された文字列として表示されています。ビットコインアドレスの横にはQRコードが表示されます。これはスマートフォンのカメラで読み取り可能なように白黒の四角形で表されるバーコードの形式にビットコインアドレスを変換したものです。ビットコイン・アドレス、またはそのQRコードをそれぞれの横にあるコピーボタンをクリックすることでクリップボードにコピーできます。QRコード自体をクリックすることで、スマートフォンで容易に読み取れるように拡大表示することも可能です。

また、他の人が長い文字と数字の列を打ち込む必要が無いようにQRコードを印刷することも可能です。

[TIP]
====
((("addresses, bitcoin","sharing")))ビットコイン・アドレスは数字の1か3で始まります。Eメールアドレスと同様に、他者にこのビットコイン・アドレスを教えてあなたのウォレットにビットコインを送金してもらうことが可能です。一方で、Eメールアドレスとは異なり、ビットコイン・アドレスは無制限に作ることができ、それらをあなたのウォレットに紐づけることができます。ウォレットは単にビットコイン・アドレスとそのアドレスの持つビットコインを使うためのキーの集合です。例えば、取引の度にアドレスを生成することも可能で、そうすればよりあなたのプライバシーがより守られるでしょう。
====

さぁ、アリスは新しいビットコイン・ウォレットを使う準備ができました。

[[getting_first_bitcoin]]
==== 最初のビットコインを手に入れる。

((("bitcoin","acquiring")))((("currency markets")))現在のところ、ビットコインは銀行や外貨両替所で買うことは出来ず、2014年時点ではまだかなりの国でビットコインを手に入れることは難しい状態です。ただ、例えば以下のような各国の通貨でビットコインが売買可能なウェブサービスは数多く存在します。

http://bitstamp.net[Bitstamp]:: 電信送金により、ユーロ（EUR）や米ドル（USD）を含む幾つかの通貨をサポートするヨーロッパのビットコイン市場です。((("Bitstamp currency market")))
http://www.coinbase.com[Coinbase]:: 米国に拠点がある、ビットコインで商品が売買可能なプラットフォームを持つビットコイン・ウォレットです。ACHシステムを通じた当座預金口座にアクセスを可能にすることでビットコインの売買が容易になっています。((("Coinbase.com")))

これらの暗号通貨両替所は国の通貨と暗号通貨の両替を行います。この場合、国または国際的な規制に従う必要があるため、これらのサービスは、しばしば特定の国または地域のみを専門に扱います。 通貨取引所はあなたの国の司法権が及ぶ範囲の通貨に限定されます。Your choice of currency exchange will be specific to the national currency you use and limited to the exchanges that operate within the legal jurisdiction of your country. 銀行で口座を開設のと同様、これらのサービスに口座を解説するのは、KYC (know your customer) and AML (anti-money laundering) というような規制に従い、様々な本人確認を行う必要があるため、数日から数週間ほどの時間がかかります。ただし、ビットコイン取引所口座の開設が完了すると、外貨取引口座での外貨取引同様、ビットコインを素早く売買することが可能になります。

より詳細な取引所のリストはhttp://bitcoincharts.com/markets[bitcoin charts]を参照するとよいでしょう。ここでは様々なビットコイン通貨取引所での相場情報・マーケット情報が掲載されています。

その他にもビットコインを入手する方法が４つあります。

* ((("bitcoins, buying for cash"))) ビットコインを持つ友人から直接ビットコインを買う。多くのユーザーはこの方法から始めます。
* localbitcoins.comのようにあなたの住む地域でビットコインを売ってくれる人を探すサービスを利用する。
* 商品やサービスをビットコインで売る。例えばあなたがプログラマーであれば、あなたのプログラミングスキルを売ることもできます。
* ((("ATMs, bitcoin")))((("bitcoin ATMs"))) ビットコインATMを利用する。あなたの住む町のATMはhttp://www.coindesk.com/bitcoin-atm-map/[CoinDesk] のような地図サービスを利用することで見つけることもできます。

Aliceはカリフォルニアの通貨市場に自分の口座を開設されるのを待つまでの間、ビットコインを紹介してくれた友人から最初のビットコインを手に入れることにします。

[[sending_receiving]]
==== ビットコインを送る／受け取る

((("bitcoin","sending/receiving", id="ix_ch01-asciidoc1", range="startofrange")))Aliceはビットコイン・ウォレットを既に作成しており、ビットコインを受け取る準備は整っています。ウォレット・アプリケーションはビットコイン・アドレスと秘密鍵（詳細は<<private_keys>>節を参照）をランダムに生成しました。この時点では彼女のビットコインアドレスはビットコイン・ネットワークに伝えられていないし何らかの登録が行われたわけでもありません。アドレスとそのアドレスに紐づく資金をコントロールするためのキーが単に存在するだけです。受け手としてこのアドレスが指定されたビットコイン・トランザクションが公開元帳（ブロックチェーン）に書き込まれるまでは、ビットコイン・ネットワークにとってこのアドレスは単なるビットコイン上で有効なアドレスの「候補」であるだけです。トランザクションが公開元帳に書き込まれるとネットワークはそのアドレスを認知し、Aliceもそのアドレスの資金の残高を元帳から参照できるようになります。

Aliceは米ドルとビットコインを交換するために、ビットコインを紹介してくれたJoeにレストランで会います。彼女はアドレスとそのQRコードをプリントアウトして持参しました。ビットコイン・アドレスを他人に見せることはセキュリティ面で懸念することはありません。ビットコイン・アドレスをどこに書き込んでも特にリスクはありません。

Aliceは、この新しいテクノロジーに多くのリスクをかけることを避けるため10ドルだけビットコインに替えたいと思っています。彼女は10ドル相当のビットコインを送ってもらうよう、Joeに10ドルと彼女のアドレスを渡します。

((("exchange rate, finding")))次にJoeは適切な額のビットコインをAliceに送るために交換レートを確認します。アプリケーションやWebサイトなどで市場の交換レート情報を提供するサービスは数多く存在し、例えば下記のものが有名です。
    
http://bitcoincharts.com[Bitcoin Charts]:: ((("bitcoincharts.com")))ビットコイン市場の情報サイト。世界各国の取引所における各国通貨との交換レート情報を提供。
http://bitcoinaverage.com/[Bitcoin Average]:: ((("bitcoinaverage.com")))各国通貨に対してのビットコインの売買高加重平均価格をシンプルに表示してくれるサイト。
http://www.zeroblock.com/[ZeroBlock]:: ((("ZeroBlock")))幾つかの取引所でのビットコイン価格を表示してくれるフリーのAndorid/iOSアプリ。 (詳細は <<zeroblock-android>>項を参照。)
http://www.bitcoinwisdom.com/[Bitcoin Wisdom]:: ((("bitcoinwisdom.com")))市場情報サイト。
    
[[zeroblock-android]]
.ZeroBlock：ビットコインの市場情報を提供してくれるAndoroid/iOSアプリ
image::images/msbt_0103.png["zeroblockの一画面"]
    
上記に挙げたアプリやWebサイトをチェックしてJoeは交換レートを、1 bitcoin辺り100ドルと決めます。このレートの場合、Aliceから渡された10ドルは0.10 bitocoin（100 millibitともいう）に相当します。

適切な交換価格を決定した後、Joeはモバイルのウォレット・アプリケーションを起動しビットコインを「送信」メニューを選択します。例えば彼がアンドロイドの「Blockchain mobile wallet」アプリを使用していたとしたら、彼は<<blockchain-mobile-send>>に示されたような２つの入力を求める画面が表示されます。

* 今回のトランザクションでのビットコイン送信先アドレス
* 送信するビットコインの量


ビットコイン・アドレスを入力する欄には、QRコードのアイコンがあります。長くて入力しづらいAliceのビットコイン・アドレス(+1Cdid9KFAaatwczBwBttQcwXYCpvK8h7FK+)を直接入力せず、カメラでQRコードを読み取ることでアドレスが入力可能です。JoeはQRコードのアイコンをタップし、スマートフォンのカメラを起動してAliceが印刷したQRコードを読み取ります。Joeは読み込まれて自動で入力されたアドレスの文字列の幾つかの部分をAliceが印刷したアドレスと比較して、正しくアドレスが読み込まれていることを確認します。

[[blockchain-mobile-send]]
.Blockchain mobile walletの送信画面
image::images/msbt_0104.png["Blockchain mobile walletの送信画面"]

Joeは今回のトランザクションで送信するビットコインの量、つまり0.10 bitcoinを入力します。ビットコインはお金のため、送信先や量を間違える訳にはいきません。そのため、Joeは入力が正しいことを入念に確認した後、Sendボタンを押してトランザクションを送信します。Joeのアプリケーションは、Joeのアドレスが持つ資金から0.10 bitcoinをAliceのアドレスに渡すという取引情報に、Joeの秘密鍵から生成される署名を付加してトランザクションを生成し送信します。これによりネットワークはこのトランザクションはJoeの承認がある正当なものとして認知することが可能になります。ピアツーピアプロトコルにより、このトランザクションの情報がビットコイン・ネットワーク上に素早く伝搬されます。１秒以内に、ネットワーク上で密につながったノードのほとんどが、このトランザクション情報を受信し、またAliceのアドレスを初めて認知します。

Alice側でもスマートフォンやノートパソコンから、このトランザクションを確認することができます。ビットコインが始まって以来発生した全てのトランザクションの情報を記録し続けている公開元帳は文字通り「公開」されており、Aliceもこの元帳で自分のアドレスを検索し、ビットコインを受け取ったかを調べることができます。これは((("blockchain.info website"))) blockchain.info というサイトで検索ボックスに自分のアドレスを入力することで簡単に行うことができます。http://bit.ly/1u0FFKL[このページ] では、Aliceのアドレスから送信された、またはそのアドレスに送られた全てのトランザクションが表示されます。Aliceがこのページを見ていると、Joeがビットコインを送信した後すぐに0.10 bitcoinが送信されたトランザクションが新しく表示されます。

++++
<?hard-pagebreak?>
++++

.トランザクションの確認
****
((("confirmation of transactions")))表示されたJoeからのトランザクションは最初、「未確認」と記載されます。これはトランザクションの情報がネットワーク上に伝搬したがブロックチェーンと呼ばれる公開元帳にまだ記載されていないことを示しています。採掘者がこのトランザクションを拾い上げブロックチェーンに記載します。トランザクションは、おおよそ10分毎に生成されるブロックに記載されて初めてネットワーク上で「確認済み」として受け入れられ、Aliceは受け取ったビットコインを使用することができるようになります。つまりトランザクション自体は一瞬で閲覧可能になりますが、新しいブロックに記載されて初めて「信用ある」取引として認められるということです。
****

これで、アリスは晴れて0.10 bitcoin の所有者となりました。次の章ではAliceがビットコインを使って初めて商品を購入するところ見ていき、その中でトランザクションとその伝搬を担う技術を詳しく解説します。(((range="endofrange", startref="ix_ch01-asciidoc1")))(((range="endofrange", startref="ix_ch01-asciidoc0")))